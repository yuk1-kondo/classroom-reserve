/* ğŸŒ¸ ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ - ãƒãƒ†ãƒªã‚¢ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ */
.main-app {
  display: flex;
  flex-direction: column;
  /* ç”»é¢é«˜å›ºå®šã‚’ã‚„ã‚ã€å¿…è¦ã«å¿œã˜ã¦ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ã« */
  min-height: 100vh;
  height: auto;
  background-color: var(--color-background);
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
}

.main-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  background: #ffffff;
  border-bottom: 1px solid var(--color-outline);
  color: var(--color-on-surface);
  box-shadow: var(--elevation-header);
  position: relative;
  z-index: 10;
}

/* 1366x768å‘ã‘: ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆã« */
@media (max-width: 1440px) and (max-height: 900px) {
  .main-header {
    padding: 12px 20px;
  }
  
  .main-header h1 {
    font-size: 1.5em;
  }
}

.main-header h1 {
  margin: 0;
  font-size: 1.8em;
  font-weight: 600;
  letter-spacing: 0.5px;
  display: flex;
  align-items: center;
  color: var(--color-header-text);
}

.main-header .header-logo {
  margin-right: 8px;
  vertical-align: middle;
  width: 32px;
  height: 32px;
  object-fit: contain;
  border-radius: 4px; /* optional subtle rounding */
  box-shadow: 0 0 0 0 rgba(0,0,0,0); /* placeholder for future */
}

/* çµ±ä¸€: ãƒœã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ« (æ—§äºŒé‡å®šç¾©é™¤å») */
.toggle-panel-button {
  background: #ffffff;
  color: var(--color-primary);
  border: 1px solid var(--color-outline-variant);
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-medium);
  cursor: pointer;
  font-size: 0.9em;
  font-weight: 500;
  transition: all 0.18s ease;
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
}
.toggle-panel-button:hover {
  background: var(--color-primary);
  color: var(--color-on-primary);
  border-color: var(--color-primary);
}

.header-info {
  /* å†ç¢ºèª: flexç¶­æŒ */
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
}

/* èª¿æ•´: ç™½èƒŒæ™¯ä¸Šã§ãƒœã‚¿ãƒ³ã®è¦–èªæ€§ã‚’å°‘ã—æ”¹å–„ */
/* remove alternate white-on-blue variant */

/* æ—§: æ°´è‰²èƒŒæ™¯ãƒãƒƒã‚¸ â†’ ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ†ã‚­ã‚¹ãƒˆã®ã¿ã¸ */
.system-info {
  background: none !important; /* ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰é™¤å» */
  color: var(--color-on-surface-variant); /* ãƒ”ãƒ³ã‚¯ä¸Šã§ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæœ€é©åŒ– */
  opacity: 0.9;
  padding: 0 !important; /* ä½™ç™½æ¶ˆã—ã¦è¡Œé«˜ã§æƒãˆã‚‹ */
  font-weight: 600;
  border: none;
  box-shadow: none;
}

.toggle-panel-button {
  background: var(--color-surface);
  color: var(--color-primary);
  border: 1px solid var(--color-primary);
  padding: var(--spacing-sm) var(--spacing-md);
  border-radius: var(--radius-medium);
  cursor: pointer;
  font-size: 0.9em;
  font-weight: 500;
  transition: all 0.2s ease;
}

.toggle-panel-button:hover {
  background: var(--color-primary);
  color: var(--color-on-primary);
}

.main-content {
  flex: 1;
  display: flex;
  /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãŒéš ã‚Œãªã„ã‚ˆã†ã«ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’è¨±å¯ */
  overflow: auto;
}

.calendar-section {
  flex: 1;
  padding: 20px;
  /* å†…éƒ¨ã®FullCalendarã‚„æ—¥åˆ¥ãƒ†ãƒ¼ãƒ–ãƒ«ãŒã¯ã¿å‡ºã™å ´åˆã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯ */
  overflow: auto;
  display: flex;
  flex-direction: column;
}

.ledger-preview-section {
  flex: 1;
  padding: 24px;
  display: flex;
  flex-direction: column;
  overflow: auto;
  gap: 24px;
}

.ledger-preview-header {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 20px;
  padding: 22px 26px;
  border-radius: var(--radius-large);
  background: linear-gradient(120deg, rgba(227, 243, 255, 0.95) 0%, rgba(255, 255, 255, 0.98) 100%);
  border: 1px solid rgba(45, 127, 211, 0.2);
  box-shadow: var(--elevation-1);
}

.ledger-preview-nav {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px;
  border-radius: 999px;
  border: 1px solid var(--color-outline);
  background: var(--color-surface);
  box-shadow: var(--elevation-1);
}

.ledger-preview-nav button {
  border: none;
  background: transparent;
  padding: 6px 14px;
  border-radius: 999px;
  font-weight: 600;
  font-size: 0.9rem;
  color: var(--color-on-surface-variant);
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
}

.ledger-preview-nav button:hover {
  background: var(--color-primary);
  color: var(--color-on-primary);
  box-shadow: 0 4px 12px rgba(45, 127, 211, 0.25);
}

.ledger-preview-date-block {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-width: 0;
}

.ledger-preview-date-text {
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--color-brand-text);
  letter-spacing: 0.05em;
  text-align: center;
}

.ledger-preview-controls {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: flex-end;
  gap: 12px;
}

.ledger-preview-date-input {
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid var(--color-outline);
  font-size: 0.95rem;
  min-width: 160px;
  background: var(--color-surface);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.ledger-preview-date-input:focus {
  outline: none;
  border-color: var(--color-primary);
  box-shadow: 0 0 0 3px rgba(45, 127, 211, 0.28);
}

.ledger-preview-filter {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-weight: 600;
  color: var(--color-on-surface);
  background: rgba(45, 127, 211, 0.12);
  padding: 8px 14px;
  border-radius: 999px;
}

.ledger-preview-filter input {
  width: 18px;
  height: 18px;
}

.ledger-preview-manage {
  padding: 10px 16px;
  border-radius: 999px;
  border: none;
  background: var(--color-primary);
  color: var(--color-on-primary);
  font-weight: 600;
  font-size: 0.92rem;
  cursor: pointer;
  transition: opacity 0.2s ease, box-shadow 0.2s ease;
  box-shadow: var(--elevation-1);
}

.ledger-preview-manage:hover:not(:disabled) {
  opacity: 0.9;
  box-shadow: var(--elevation-2);
}

.ledger-preview-manage:disabled {
  cursor: not-allowed;
  opacity: 0.6;
  box-shadow: none;
}

@media (max-width: 1366px) {
  .ledger-preview-section {
    padding: 18px;
    gap: 18px;
  }

  .ledger-preview-header {
    grid-template-columns: 1fr;
    gap: 16px;
    padding: 18px 20px;
    text-align: center;
  }

  .ledger-preview-nav {
    justify-content: center;
  }

  .ledger-preview-controls {
    justify-content: center;
    gap: 10px;
  }

  .ledger-preview-date-input {
    padding: 6px 10px;
    font-size: 0.88rem;
  }

  .ledger-preview-manage {
    font-size: 0.85rem;
    padding: 8px 14px;
  }
}
.calendar-quick-summary {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 24px;
  margin-bottom: 20px;
  padding: 18px 22px;
  border-radius: var(--radius-large);
  background: linear-gradient(135deg, rgba(227, 243, 255, 0.9) 0%, rgba(255, 255, 255, 0.95) 100%);
  border: 1px solid rgba(45, 127, 211, 0.15);
  box-shadow: var(--elevation-1);
}

.summary-body {
  flex: 1;
  min-width: 0;
}

.summary-nav {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px;
  border-radius: 999px;
  border: 1px solid var(--color-outline-variant);
  background: var(--color-surface);
  box-shadow: var(--elevation-1);
  margin-bottom: 12px;
}

.summary-nav-button {
  border: none;
  background: transparent;
  padding: 6px 14px;
  border-radius: 999px;
  font-weight: 600;
  font-size: 0.88rem;
  color: var(--color-on-surface-variant);
  cursor: pointer;
  transition: background 0.2s ease, color 0.2s ease, box-shadow 0.2s ease;
}

.summary-nav-button:hover {
  background: var(--color-primary);
  color: var(--color-on-primary);
  box-shadow: 0 4px 12px rgba(45, 127, 211, 0.2);
}

.summary-label {
  display: inline-flex;
  align-items: center;
  font-size: 0.85rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  color: var(--color-info);
  background: rgba(47, 111, 160, 0.1);
  padding: 4px 10px;
  border-radius: 999px;
}

.summary-date {
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
  gap: 12px;
  margin-top: 10px;
}

.summary-date-text {
  font-size: 1.45rem;
  font-weight: 600;
  color: var(--color-brand-text);
}

.summary-date-code {
  font-size: 0.9rem;
  color: var(--color-on-surface-variant);
  background: rgba(45, 127, 211, 0.12);
  border-radius: var(--radius-small);
  padding: 4px 10px;
  letter-spacing: 0.02em;
}

.summary-helper {
  margin: 8px 0 0;
  color: var(--color-on-surface-variant);
  font-size: 0.9rem;
}

.summary-helper.muted {
  opacity: 0.75;
}

.summary-actions {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 10px;
}

.summary-chip {
  border-radius: 999px;
  border: 1px solid var(--color-outline-variant);
  background: var(--color-surface);
  color: var(--color-on-surface);
  padding: 10px 18px;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  box-shadow: none;
}

.summary-chip:hover:not(:disabled) {
  border-color: var(--color-primary);
  color: var(--color-primary);
  box-shadow: var(--elevation-1);
}

.summary-chip.primary {
  background: var(--color-primary);
  border-color: var(--color-primary);
  color: var(--color-on-primary);
  box-shadow: var(--elevation-1);
}

.summary-chip.primary:hover:not(:disabled) {
  box-shadow: var(--elevation-2);
}

.summary-chip:disabled {
  cursor: not-allowed;
  opacity: 0.55;
  box-shadow: none;
}

@media (max-width: 1024px) {
  .calendar-quick-summary {
    flex-direction: column;
    align-items: stretch;
    gap: 18px;
  }

  .summary-actions {
    justify-content: flex-start;
  }
}

/* 1366x768å‘ã‘: ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ã‚’å‰Šæ¸›ã—ã¦è¡¨ç¤ºé ˜åŸŸã‚’ç¢ºä¿ */
@media (max-width: 1440px) and (max-height: 900px) {
  .calendar-section {
    padding: 16px;
  }
}

.side-panel-section {
  width: 360px;
  background: var(--color-surface);
  border-left: 1px solid var(--color-outline);
  box-shadow: var(--elevation-2);
  z-index: 100;
  /* ã‚ˆã‚Šå¤§ãã„ç”»é¢ã§ã¯å¹…ã‚’åºƒã’ã‚‹ */
}

@media (min-width: 1600px) {
  .side-panel-section {
    width: 420px;
  }
}

@media (min-width: 1920px) {
  .side-panel-section {
    width: 480px;
  }
}

.main-footer {
  background: var(--color-footer-bg);
  border-top: 1px solid var(--color-footer-border);
  color: var(--color-on-surface-variant);
  text-align: center;
  padding: 14px 16px;
  font-size: 0.85rem;
  box-shadow: none; /* ãƒ•ãƒ©ãƒƒãƒˆåŒ– */
}

.main-footer p {
  margin: 0;
  opacity: 0.85;
  font-weight: 500;
  color: inherit; /* ãƒ†ã‚­ã‚¹ãƒˆã‚«ãƒ©ãƒ¼ç¶™æ‰¿ */
}

/* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠã®èª¿æ•´ */
.calendar-section .calendar-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.calendar-section .fc {
  flex: 1;
  height: auto !important;
}

.daily-table-container {
  margin-top: 20px;
  /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®ãŸã‚æœ€å°å¹…ã‚’è¨­å®š */
  min-width: 0;
  overflow-x: auto;
}

/* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ */
@media (max-width: 1024px) {
  .side-panel-section {
    width: 350px;
  }
  
  .main-header {
    padding: 15px 20px;
  }
  
  .main-header h1 {
    font-size: 1.5em;
  }
  
  .calendar-section {
    padding: 15px;
  }
}

@media (max-width: 768px) {
  .main-content {
    flex-direction: column;
  }
  
  /* é«˜ã•å›ºå®šã‚’æ’¤å›ã—ã€è‡ªå‹•ã§å¿…è¦ãªé«˜ã•ã‚’ç¢ºä¿ï¼ˆãƒšãƒ¼ã‚¸å…¨ä½“ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«ä»»ã›ã‚‹ï¼‰ */
  .calendar-section {
    height: auto;
    min-height: 320px;
  }
  
  .daily-table-container {
    margin-right: 0; /* ãƒ¢ãƒã‚¤ãƒ«ã§ã¯å³ãƒãƒ¼ã‚¸ãƒ³ã‚’å‰Šé™¤ */
  }
  
  .side-panel-section {
    width: 100%;
    height: 40vh;
    border-left: none;
    border-top: 1px solid #e9ecef;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
  }
  
  .main-header {
    flex-direction: column;
    gap: 15px;
    text-align: center;
  }
  
  .header-info {
    justify-content: center;
    flex-wrap: wrap;
  }
  
  .toggle-panel-button {
    order: -1;
    width: 100%;
    max-width: 300px;
  }
}

@media (max-width: 600px) {
  .side-panel-section {
    position: fixed;
    top: 0;
    right: 0;
    width: 100%;
    max-width: 420px;
    height: 100%;
    border-left: none;
    border-top: none;
    box-shadow: 0 0 20px rgba(0,0,0,0.25);
    background: var(--color-surface);
    z-index: 120;
    animation: slideUp 0.28s ease-out;
  }
  @keyframes slideUp { from { transform: translateY(8%); opacity:0;} to { transform: translateY(0); opacity:1;} }
  .main-content { overflow: visible; }
  
  .mobile-close-panel {
    display: block;
    width: 100%;
    background: var(--color-primary);
    color: var(--color-on-primary);
    border: none;
    padding: 12px 16px;
    font-size: 0.95em;
    font-weight: 600;
    cursor: pointer;
    text-align: left;
  }
  .mobile-close-panel:active { opacity: 0.85; }
}

@media (max-width: 480px) {
  .main-header {
    padding: 12px 15px;
  }
  
  .main-header h1 {
    font-size: 1.3em;
  }
  
  .calendar-section {
    padding: 10px;
  }
  
  .toggle-panel-button {
    padding: 8px 12px;
    font-size: 0.8em;
  }
  
  .system-info {
    font-size: 0.8em;
    padding: 0 !important;
  }
}

/* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
.side-panel-section {
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ (ç„¡åŠ¹åŒ–: å¸¸ã«ãƒ©ã‚¤ãƒˆãƒˆãƒ¼ãƒ³ã‚’ç¶­æŒ) */
/*
@media (prefers-color-scheme: dark) {
  .main-app { background-color: #1a1a1a; color: #e0e0e0; }
  .main-header { background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); }
  .side-panel-section { background: #2c2c2c; border-left-color: #404040; }
  .main-footer { background: var(--color-surface) !important; color: var(--color-on-surface-variant) !important; }
}
*/
/* ä»£æ›¿: ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã§ã‚‚ãƒ©ã‚¤ãƒˆé…è‰²å›ºå®šï¼ˆãƒ˜ãƒƒãƒ€ãƒ¼ã‚‚ãƒ•ãƒ©ãƒƒãƒˆã®ã¾ã¾ï¼‰ */
@media (prefers-color-scheme: dark) {
  .main-app, .side-panel-section, .main-footer, .calendar-section .fc { 
    background: var(--color-background) !important; 
    color: var(--color-on-surface) !important; 
  }
  .main-header { 
    background: var(--color-surface) !important; 
    border-bottom: 1px solid var(--color-outline) !important;
    color: var(--color-on-surface) !important; 
    box-shadow: none !important;
  }
}

.open-reserve-panel-btn {
  background: var(--color-primary);
  color: var(--color-on-primary);
  border: none;
  padding: 10px 16px;
  border-radius: var(--radius-medium);
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
}

.open-reserve-panel-btn:active {
  opacity: 0.85;
}

.open-reserve-panel-wrapper {
  margin-top: 12px;
  text-align: center;
}

/* ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼é™å®š: ãƒ¢ãƒã‚¤ãƒ«ç”¨FAB */
.fab {
  position: fixed;
  right: 16px;
  bottom: 16px;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background: var(--color-primary);
  color: var(--color-on-primary);
  border: none;
  box-shadow: var(--elevation-3);
  z-index: 1300; /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼/ã‚µã‚¤ãƒ‰ãƒ‘ãƒãƒ«ã‚ˆã‚Šå‰é¢ï¼ˆãƒ¢ãƒ¼ãƒ€ãƒ«ã‚ˆã‚Šã¯ä¸‹ï¼‰ */
  font-size: 28px;
  font-weight: 600;
  line-height: 56px;
  text-align: center;
  cursor: pointer;
}
.fab:active { opacity: 0.9; }
